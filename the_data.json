{ "prompt": "{\"Resources\": {\"testapp\": {\"Type\": \"AWS::Amplify::App\", \"Properties\": {\"Name\": \"your-amplify-console-app-name\", \"OauthToken\": \"<your-gitHub-oauth-token>\", \"Repository\": \"https://github.com/<the-rest-of-the-repository-url>\"}, \"Metadata\": {\"aws:cdk:path\": \"AmplifyConsoleApp/test-app\"}}, \"MasterBranch\": {\"Type\": \"AWS::Amplify::Branch\", \"Properties\": {\"AppId\": {\"Fn::GetAtt\": [\"testapp\", \"AppId\"]}, \"BranchName\": \"master\"}, \"Metadata\": {\"aws:cdk:path\": \"AmplifyConsoleApp/MasterBranch\"}}, \"CDKMetadata\": {\"Type\": \"AWS::CDK::Metadata\", \"Properties\": {\"Analytics\": \"v2:deflate64:H4sIAAAAAAAA/yWMSw6DIBQAz+IenpVN2ao3sAdoKGB8fh4EsE1juLsYVzOZxQiQT3hU6he5Ngtf8QPHKym9sJLeavMrjn84+pFa71lBFxTpKV862Oj2oO3lvSODCR1lRs5YmGP9bSSI8p4jIg87JdwsDDdPWe6goXcAAAA=\"}, \"Metadata\": {\"aws:cdk:path\": \"AmplifyConsoleApp/CDKMetadata/Default\"}, \"Condition\": \"CDKMetadataAvailable\"}}, \"Conditions\": {\"CDKMetadataAvailable\": {\"Fn::Or\": [{\"Fn::Or\": [{\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"af-south-1\"]}, {\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"ap-east-1\"]}, {\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"ap-northeast-1\"]}, {\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"ap-northeast-2\"]}, {\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"ap-south-1\"]}, {\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"ap-southeast-1\"]}, {\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"ap-southeast-2\"]}, {\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"ca-central-1\"]}, {\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"cn-north-1\"]}, {\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"cn-northwest-1\"]}]}, {\"Fn::Or\": [{\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"eu-central-1\"]}, {\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"eu-north-1\"]}, {\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"eu-south-1\"]}, {\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"eu-west-1\"]}, {\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"eu-west-2\"]}, {\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"eu-west-3\"]}, {\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"me-south-1\"]}, {\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"sa-east-1\"]}, {\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"us-east-1\"]}, {\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"us-east-2\"]}]}, {\"Fn::Or\": [{\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"us-west-1\"]}, {\"Fn::Equals\": [{\"Ref\": \"AWS::Region\"}, \"us-west-2\"]}]}]}}, \"Parameters\": {\"BootstrapVersion\": {\"Type\": \"AWS::SSM::Parameter::Value<String>\", \"Default\": \"/cdk-bootstrap/hnb659fds/version\", \"Description\": \"Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]\"}}, \"Rules\": {\"CheckBootstrapVersion\": {\"Assertions\": [{\"Assert\": {\"Fn::Not\": [{\"Fn::Contains\": [[\"1\", \"2\", \"3\", \"4\", \"5\"], {\"Ref\": \"BootstrapVersion\"}]}]}, \"AssertDescription\": \"CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.\"}]}}}", "completion": "import cdk = require('aws-cdk-lib');\nimport { CfnApp, CfnBranch } from 'aws-cdk-lib/aws-amplify';\nimport { Construct } from 'constructs';\n\nexport class AmplifyConsoleAppCdkStack extends cdk.Stack {\n  constructor(scope: Construct, id: string, props?: cdk.StackProps) {\n    super(scope, id, props);\n\n    const amplifyApp = new CfnApp(this, 'test-app', {\n      name: 'your-amplify-console-app-name',\n      repository: 'https://github.com/<the-rest-of-the-repository-url>',\n      oauthToken: '<your-gitHub-oauth-token>'\n    });\n\n    new CfnBranch(this, 'MasterBranch', {\n      appId: amplifyApp.attrAppId,\n      branchName: 'master' // you can put any branch here (careful, it will listen to changes on this branch)\n    });\n  }\n}\n\nconst app = new cdk.App();\nnew AmplifyConsoleAppCdkStack(app, 'AmplifyConsoleApp');\napp.synth();\n"}